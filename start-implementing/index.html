
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://azure.github.io/enterprise-azure-policy-as-code/start-implementing/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../start-hydration-kit/">
      
      
      <link rel="icon" href="../Images/10316-icon-service-Policy.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Overview and Prerequisites - Enterprise Policy As Code (EPAC)</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-with-epac" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Enterprise Policy As Code (EPAC)" class="md-header__button md-logo" aria-label="Enterprise Policy As Code (EPAC)" data-md-component="logo">
      
  <img src="../Images/10316-icon-service-Policy.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Enterprise Policy As Code (EPAC)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview and Prerequisites
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Azure/enterprise-azure-policy-as-code" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../settings-global-setting-file/" class="md-tabs__link">
          
  
  
    
  
  Settings and Desired State

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../integrating-with-alz-overview/" class="md-tabs__link">
          
  
  
    
  
  Azure Landing Zones

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../policy-definitions/" class="md-tabs__link">
          
  
  
    
  
  Define Policy Resources

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../ci-cd-overview/" class="md-tabs__link">
          
  
  
    
  
  CI/CD Integration

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../operational-scripts/" class="md-tabs__link">
          
  
  
    
  
  Operational Scripts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../guidance-remediation/" class="md-tabs__link">
          
  
  
    
  
  Operator Guidance

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Enterprise Policy As Code (EPAC)" class="md-nav__button md-logo" aria-label="Enterprise Policy As Code (EPAC)" data-md-component="logo">
      
  <img src="../Images/10316-icon-service-Policy.svg" alt="logo">

    </a>
    Enterprise Policy As Code (EPAC)
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Azure/enterprise-azure-policy-as-code" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Overview and Prerequisites
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Overview and Prerequisites
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pre-requisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#knowledge-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Knowledge Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Software Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Azure Permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#epac-overview" class="md-nav__link">
    <span class="md-ellipsis">
      EPAC Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EPAC Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global-settings-file" class="md-nav__link">
    <span class="md-ellipsis">
      Global Settings File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pac-owner-id" class="md-nav__link">
    <span class="md-ellipsis">
      Pac Owner ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-root-scope" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Root Scope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#epac-environments-overview" class="md-nav__link">
    <span class="md-ellipsis">
      EPAC Environments Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typical-epac-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Typical EPAC Environment Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managed-identities" class="md-nav__link">
    <span class="md-ellipsis">
      Managed Identities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-tenant-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Tenant Capabilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-files-and-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Files and Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-path" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Path
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Path">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommended-hydration-kit" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended: Hydration Kit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-manual-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Alternative: Manual Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#not-sure-which-to-choose" class="md-nav__link">
    <span class="md-ellipsis">
      Not Sure Which to Choose?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#need-help" class="md-nav__link">
    <span class="md-ellipsis">
      Need Help?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../start-hydration-kit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Hydration Kit
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../manual-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Manual Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../start-extracting-policy-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extracting Policy Resources
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../start-forking-github-repo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forking GitHub Repo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced-configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../start-changes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Upcoming Changes in v11.0.0
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Settings and Desired State
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Settings and Desired State
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings-global-setting-file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Global Settings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings-desired-state/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Desired State
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings-dfc-assignments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DfC Assignments
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Azure Landing Zones
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Azure Landing Zones
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrating-with-alz-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ALZ Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrating-with-alz-library/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ALZ Policy Integration (New)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrating-with-alz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ALZ Policy Integration (Legacy)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Define Policy Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Define Policy Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policy-definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policy Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policy-set-definitions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policy Set Definitions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policy-assignments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policy Assignment Files
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policy-assignments-csv-parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSV Assignment Parameters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../policy-exemptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Policy Exemptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CI/CD Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            CI/CD Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci-cd-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CI/CD Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci-cd-app-registrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    App Registrations Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci-cd-branching-flows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Branching Flows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci-cd-ado-pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure DevOps Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ci-cd-github-actions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GitHub Actions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operational Scripts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Operational Scripts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operational-scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scripts Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operational-scripts-documenting-policy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Documenting Policy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operational-scripts-reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Operator Guidance
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Operator Guidance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance-remediation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Remediation Enforcement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance-scope-exclusions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exclusion Management
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance-exemptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exemption Updates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guidance-lighthouse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lighhouse Subscription Management
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pre-requisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#knowledge-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Knowledge Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Software Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      Azure Permissions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#epac-overview" class="md-nav__link">
    <span class="md-ellipsis">
      EPAC Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EPAC Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global-settings-file" class="md-nav__link">
    <span class="md-ellipsis">
      Global Settings File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pac-owner-id" class="md-nav__link">
    <span class="md-ellipsis">
      Pac Owner ID
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deployment-root-scope" class="md-nav__link">
    <span class="md-ellipsis">
      Deployment Root Scope
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#epac-environments-overview" class="md-nav__link">
    <span class="md-ellipsis">
      EPAC Environments Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#typical-epac-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Typical EPAC Environment Setup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#managed-identities" class="md-nav__link">
    <span class="md-ellipsis">
      Managed Identities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multi-tenant-capabilities" class="md-nav__link">
    <span class="md-ellipsis">
      Multi-Tenant Capabilities
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-files-and-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration Files and Structure
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-path" class="md-nav__link">
    <span class="md-ellipsis">
      Implementation Path
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementation Path">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#recommended-hydration-kit" class="md-nav__link">
    <span class="md-ellipsis">
      Recommended: Hydration Kit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alternative-manual-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Alternative: Manual Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#not-sure-which-to-choose" class="md-nav__link">
    <span class="md-ellipsis">
      Not Sure Which to Choose?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#need-help" class="md-nav__link">
    <span class="md-ellipsis">
      Need Help?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="getting-started-with-epac">Getting Started with EPAC</h1>
<p>EPAC (Enterprise Azure Policy as Code) enables you to manage Azure Policy at scale using Infrastructure as Code principles. This guide will help you understand core concepts and choose the right implementation path for your organization.</p>
<div class="admonition tip">
<p class="admonition-title">Important</p>
<p><strong>Take time to understand the concepts:</strong> Understanding EPAC's core concepts is crucial for successful implementation. Don't skip the EPAC Overview section.</p>
</div>
<p><strong>What you'll learn:</strong></p>
<ul>
<li>Core EPAC concepts and terminology</li>
<li>Prerequisites and permissions needed</li>
<li>Implementation options (Hydration Kit vs Manual)</li>
<li>How to get started quickly</li>
</ul>
<h2 id="pre-requisites">Pre-requisites</h2>
<p>Before implementing EPAC, ensure you have the required knowledge, software, and permissions.</p>
<h3 id="knowledge-requirements">Knowledge Requirements</h3>
<p>You should understand these Azure concepts:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/governance/management-groups/overview">Azure Management Groups</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/governance/policy/overview">Azure Policy</a>  </li>
<li><a href="https://learn.microsoft.com/en-us/azure/governance/policy/concepts/scope">Scope in Azure Policy</a></li>
</ul>
<h3 id="software-requirements">Software Requirements</h3>
<p>Install the following software before proceeding:</p>
<ol>
<li><strong><a href="https://learn.microsoft.com/en-us/powershell/scripting/install/installing-powershell">PowerShell 7.4 or higher</a></strong></li>
<li><strong><a href="https://learn.microsoft.com/en-us/powershell/azure/install-azure-powershell">Az PowerShell module</a></strong></li>
<li><strong><a href="https://www.powershellgallery.com/packages/EnterprisePolicyAsCode">EnterprisePolicyAsCode PowerShell Module</a></strong></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Alternative installation:</strong>  It is recommended to run EPAC using the <code>EnterprisePolicyAsCode</code> PowerShell Module, however, if you cannot use the PowerShell Gallery Module, you can run EPAC directly from source code. See <a href="../start-forking-github-repo/">Forking the GitHub Repo</a> for details.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Prerelease versions:</strong> Experimental features may be available as prerelease versions. Use <code>Install-Module -AllowPrerelease</code> to access these, but note they are not supported for production use and may introduce breaking changes.</p>
</div>
<h3 id="azure-permissions">Azure Permissions</h3>
<p>You need specific Azure roles to deploy and manage policies with EPAC:</p>
<table>
<thead>
<tr>
<th>Role</th>
<th>Required For</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Resource Policy Contributor</code></td>
<td>Permissions to create, manage &amp; delete Azure Policy resources</td>
</tr>
<tr>
<td><code>Role Based Access Control Administrator</code></td>
<td>Permissions to create, manage &amp; delete Azure RBAC assignments</td>
</tr>
<tr>
<td><code>Management Group Contributor</code></td>
<td>Create Management Groups (Hydration Kit only)</td>
</tr>
</tbody>
</table>
<h2 id="epac-overview">EPAC Overview</h2>
<p>This section covers the essential concepts you need to understand before implementing EPAC.</p>
<h3 id="global-settings-file">Global Settings File</h3>
<p>EPAC relies on a <code>global-settings</code> file that contains key information about your environment that EPAC uses as inputs when running. Throughout this section, we will explore some of the key items that will need to be specified in the <code>global-settings</code> file.</p>
<p>The <code>global-settings</code> file is a <code>jsonc</code> files (JSON with Comments) and a Schema is available which can be used in tools such as VS Code to provide code completion.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/Azure/enterprise-azure-policy-as-code/main/Schemas/global-settings-schema.json&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="pac-owner-id">Pac Owner ID</h3>
<p>The <code>pacOwnerId</code> is a representative name that is used to uniquely identify deployments from this instance of EPAC. We recommend simply generating and using a GUID for this.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/Azure/enterprise-azure-policy-as-code/main/Schemas/global-settings-schema.json&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacOwnerId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;11111111-2222-3333-4444-555555555555&quot;</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="deployment-root-scope">Deployment Root Scope</h3>
<p>The <code>deploymentRootScope</code> defines where EPAC manages policies. EPAC can deploy and manage policies at this scope and any scope below it in the Azure hierarchy. EPAC is a desired state deployment technology and meant to manage <strong>all</strong> policy resources within the specified <code>deploymentRootScope</code> and act as the 'single source of truth' for Azure Policy.</p>
<p><strong>Example:</strong> Setting <code>deploymentRootScope</code> to the Contoso organization's Management Group (e.g., <code>contoso</code>) allows EPAC to manage policies across all child Management Groups and subscriptions.</p>
<p><img alt="Sample Management Group Structure" src="../Images/sample-mg-structure.png" /></p>
<div class="admonition tip">
<p class="admonition-title">Important</p>
<p><strong>Avoid Tenant Root Group:</strong> Set your <code>deploymentRootScope</code> to an Intermediate Root Management Group rather than the Tenant Root Group to maintain flexibility and avoid lockout scenarios.  This is discussed in further detail in the Azure Cloud Adoption Framework <a href="https://learn.microsoft.com/en-us/azure/cloud-adoption-framework/ready/landing-zone/design-area/resource-org-management-groups">guidance</a>.</p>
</div>
<h3 id="epac-environments-overview">EPAC Environments Overview</h3>
<p>Like any other solution or application, a development area is required to test and validate the solution before deploying to production. EPAC is the same, <strong>however</strong>, since Azure Policy affects all resources in your tenant, you need isolated space for policy development.</p>
<p><strong>The Challenge:</strong> Testing new policies, or policy updates anywhere within your standard Management Group hierarchy could:</p>
<ul>
<li>Disrupt existing workloads</li>
<li>Create compliance issues</li>
<li>Impact other teams' work</li>
</ul>
<p>For example, you may have an Azure policy assigned to control networking configuration, say to manage the firewall settings on storage accounts. This applies for all workload types (platform, security, applications) and for all SDLC environments (production, development, sandbox, etc). You may need to update this policy, for instance to add a new allowed IP address. This policy needs to be tested before it rolls out to any scope within your environment to ensure there's no issues and its behaving accordingly.</p>
<p><strong>The Solution:</strong> EPAC has the concept of <strong>EPAC Environments</strong>, or <code>pacEnvironments</code> providing isolated policy management with its own deployment scope.</p>
<ul>
<li>Each <strong>EPAC Environment</strong> has a symbolic name (<code>pacSelector</code>) and its own distinct <code>deploymentRootScope</code></li>
<li>Each <strong>EPAC Environment</strong> is targeted separately for deployments, allowing you to manage policies independently.</li>
</ul>
<h3 id="typical-epac-environment-setup">Typical EPAC Environment Setup</h3>
<p>Each <strong>EPAC Environment</strong> provides isolated policy management with its own deployment scope. This separation is crucial for safe policy development.</p>
<p><strong>Typical Setup:</strong></p>
<ul>
<li><strong>Tenant Environment</strong> (<code>tenant01</code>): Manages policies in your main Management Group hierarchy</li>
<li><strong>Development Environment</strong> (<code>epac-dev</code>): Manages policies in a separate, cloned Management Group hierarchy</li>
</ul>
<p><strong>Benefits of Separate Environments:</strong></p>
<ul>
<li>Test policy changes without affecting other workloads</li>
<li>Validate compliance frameworks before deployment</li>
<li>Safely experiment with new policy configurations</li>
<li>Maintain audit trails for policy changes</li>
</ul>
<p><img alt="Sample EPAC Management Group Structure" src="../Images/sample-epac-mg-structure.png" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The development environment typically mirrors your production Management Group structure, giving you a representative testing environment.</p>
</div>
<p>The <code>global-settings</code> file, would then look something like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/Azure/enterprise-azure-policy-as-code/main/Schemas/global-settings-schema.json&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacOwnerId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;11111111-2222-3333-4444-555555555555&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacEnvironments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pacSelector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tenant01&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;deploymentRootScope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/providers/Microsoft.Management/managementGroups/contoso&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pacSelector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;epac-dev&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;deploymentRootScope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/providers/Microsoft.Management/managementGroups/epac-contoso&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Important</p>
<p><strong>epac-dev:</strong>It is <strong>strongly recommended</strong> to create your development <strong>EPAC Environment</strong> with a <code>deploymentRootScope</code> that is <strong>separate</strong> from the rest of your tenant. Remember that EPAC expects to manage <strong>ALL</strong> policies within its <code>deploymentRootScope</code> and each <code>pacEnvironment</code> is independent, so creating an <strong>EPAC Environment</strong> that is nested within the <code>deploymentRootScope</code> of another <strong>EPAC Environment</strong> is generally not recommended.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><strong>Main pacEnvironment Name:</strong> You'll notice that we gave our main <code>pacEnvironment</code> the name <code>tenant01</code> instead of something like <code>production</code> and that <strong>"EPAC Environment"</strong> has been consistently bolded throughout the documentation. This is to create a distinction between environments that EPAC uses (<code>pacEnvironments</code>) and your general SDLC environments within your company (Prod, test, qa, dev, etc.) and Azure tenant. As discussed, it is important to separate the "Development" <strong>EPAC Environment</strong> from your regular development environments.</p>
</div>
<h3 id="managed-identities">Managed Identities</h3>
<p>DeployifNotExists (DINE) policies require a managed identity to function. If you are not familiar with this, please review the <a href="https://learn.microsoft.com/en-us/azure/governance/policy/concepts/effect-deploy-if-not-exists">Azure Policy documentation</a>. For each <code>pacEnvironment</code> we will need to specify a <em>default</em> Azure Location (e.g. EastUS) where managed identities used by Azure Policy will be created.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/Azure/enterprise-azure-policy-as-code/main/Schemas/global-settings-schema.json&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacOwnerId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;11111111-2222-3333-4444-555555555555&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacEnvironments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pacSelector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tenant01&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;deploymentRootScope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/providers/Microsoft.Management/managementGroups/contoso&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;managedIdentityLocation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eastus2&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pacSelector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;epac-dev&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;deploymentRootScope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/providers/Microsoft.Management/managementGroups/epac-contoso&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;managedIdentityLocation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eastus2&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>EPAC provides the ability to specify the location individually on each policy assignment. The location specified in the <code>pacEnvironment</code> is a default location incase one is not specified in the assignment.</p>
</div>
<h3 id="multi-tenant-capabilities">Multi-Tenant Capabilities</h3>
<p>EPAC supports single and multi-tenant configurations including:</p>
<ul>
<li><strong>Multiple Azure tenants</strong> from a single EPAC instance</li>
<li><strong>Azure Lighthouse managed tenants</strong></li>
<li><strong>Cross-tenant role assignments</strong> for centralized management</li>
</ul>
<p>Each <code>pacEnvironment</code> has a <code>tenantId</code> property to enable these scenario(s):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/Azure/enterprise-azure-policy-as-code/main/Schemas/global-settings-schema.json&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacOwnerId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;11111111-2222-3333-4444-555555555555&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pacEnvironments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pacSelector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tenant01&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;deploymentRootScope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/providers/Microsoft.Management/managementGroups/contoso&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;tenantId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;77777777-8888-9999-1111-222222222222&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;managedIdentityLocation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eastus2&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;pacSelector&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;epac-dev&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;deploymentRootScope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/providers/Microsoft.Management/managementGroups/epac-contoso&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;tenantId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;77777777-8888-9999-1111-222222222222&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;managedIdentityLocation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eastus2&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is possible to use this multi-tenant functionality for the "development" <strong>EPAC Environment</strong> (<code>epac-dev</code>) Discussed above; however, it is not necessary since EPAC has sophisticated partitioning capabilities. Generally, the multi-tenant functionality should be reserved for true multi-tenant scenarios.</p>
</div>
<h3 id="configuration-files-and-structure">Configuration Files and Structure</h3>
<p>EPAC uses a simple folder structure to organize all policy resources:</p>
<p><img alt="Definitions Folder Structure" src="../Images/definitions-folder-structure.png" /></p>
<p><strong>Key Files:</strong></p>
<ul>
<li><strong><code>global-settings.jsonc</code></strong>: Central configuration file defining environments and settings</li>
<li><strong><code>policyDefinitions/</code></strong>: Custom policy definitions</li>
<li><strong><code>policySetDefinitions/</code></strong>: Policy initiative (set) definitions  </li>
<li><strong><code>policyAssignments/</code></strong>: Policy assignments to scopes</li>
<li><strong><code>policyExemptions/</code></strong>: Exemptions from policy enforcement</li>
</ul>
<h2 id="implementation-path">Implementation Path</h2>
<p><strong>Quick Start Decision Tree</strong></p>
<div class="highlight"><pre><span></span><code>Are you new to EPAC? → YES → Use the Hydration Kit (recommended)
                     ↓
Do you need advanced customization? → NO → Use the Hydration Kit
                                    ↓
Do you have complex multi-tenant requirements? → YES → Manual Configuration
                                               ↓
                                              NO → Use the Hydration Kit
</code></pre></div>
<h3 id="recommended-hydration-kit">Recommended: Hydration Kit</h3>
<p><strong>Best for:</strong> Most users, especially those new to EPAC</p>
<p><strong>What it provides:</strong></p>
<ul>
<li>Interactive setup with guided decisions</li>
<li>Setup of folder structure &amp; generation of <code>global-settings.jsonc</code></li>
<li>Automatic creation of <code>epac-dev</code> environment</li>
<li>Starter policies and compliance frameworks</li>
<li>Starter CI/CD pipeline templates</li>
</ul>
<p><strong>Next step:</strong> <a href="../start-hydration-kit/">Hydration Kit Guide</a></p>
<h3 id="alternative-manual-configuration">Alternative: Manual Configuration</h3>
<p><strong>Best for:</strong> Advanced users with specific customization needs</p>
<p><strong>What it provides:</strong></p>
<ul>
<li>Full control over every configuration aspect</li>
<li>Ability to integrate with existing setups</li>
<li>Custom folder structures and naming</li>
<li>Advanced multi-tenant scenarios</li>
</ul>
<p><strong>Next step:</strong> <a href="../manual-configuration/">Manual Configuration Guide</a></p>
<h3 id="not-sure-which-to-choose">Not Sure Which to Choose?</h3>
<p>Start with the <strong>Hydration Kit</strong> as you can always customize the generated configuration afterward. The Hydration Kit creates a solid foundation to build upon.</p>
<h2 id="need-help">Need Help?</h2>
<p>If you encounter issues during implementation:</p>
<ul>
<li><strong>Run scripts interactively</strong> to see detailed output</li>
<li><strong><a href="https://learn.microsoft.com/en-us/powershell/scripting/dev-cross-plat/vscode/using-vscode?view=powershell-7.3">Debug in VS Code</a></strong> for step-by-step troubleshooting</li>
<li><strong><a href="https://github.com/Azure/enterprise-azure-policy-as-code/issues">Open a GitHub Issue</a></strong> for community support</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.indexes", {"navigation.sections": {"level": 1}}, "navigation.tabs", "navigation.tabs.sticky", "content.code.annotate", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>